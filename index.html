<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<!-- PWA / iOS Fullscreen -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Skate Slot">

<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#00ff88">

<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="icon_180x180.png">

<title>Skate Slot Pro</title>

<style>
button, .spin-btn {
  touch-action: manipulation;
}

button {
  font-size: 16px;
}


*{
    box-sizing:border-box;
    -webkit-tap-highlight-color:transparent;
    touch-action:manipulation;
}

body{
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:flex-start;
    padding:20px 0 40px;
    overflow-y:auto;

    font-family:system-ui,-apple-system,sans-serif;
    background:
        radial-gradient(circle at top, rgba(0,255,180,.18), transparent 40%),
        radial-gradient(circle at bottom, rgba(0,120,255,.15), transparent 45%),
        linear-gradient(180deg,#050505,#000);
    color:#dfffee;
}


.app{
    width:92%;
    max-width:420px;
}

.slot-box{
    background:rgba(10,10,10,.85);
    border-radius:26px;
    padding:22px 18px;
    text-align:center;
    box-shadow:
        0 0 0 1px rgba(0,255,150,.15),
        0 20px 40px rgba(0,0,0,.8),
        inset 0 0 30px rgba(0,255,150,.08);
}

h2{
    margin:0;
    letter-spacing:2px;
    color:#7dffbf;
    text-shadow:0 0 14px rgba(0,255,136,.8);
}

.sub{
    margin:8px 0 16px;
    font-size:15px;
    color:#9affd0;
    opacity:.85;
}

.slot{
    background:#000;
    border-radius:18px;
    border:1px solid rgba(0,255,136,.4);
    overflow:hidden;
    box-shadow:inset 0 0 22px rgba(0,0,0,.9);
}

.reel{
    height:70px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:22px;
    border-bottom:1px solid rgba(0,255,136,.3);
}

.reel:last-child{border:none}

/* FLASH */
.slot.flash{
    animation:flash .35s ease-out;
}

@keyframes flash{
    0%{box-shadow:0 0 0 rgba(0,255,136,0)}
    50%{box-shadow:0 0 40px rgba(0,255,136,1)}
    100%{box-shadow:0 0 0 rgba(0,255,136,0)}
}

/* BUTTON */
.spin-btn{
    margin-top:18px;
    width:100%;
    height:56px;
    font-size:20px;
    font-weight:700;
    letter-spacing:2px;
    border:none;
    border-radius:16px;
    background:
        linear-gradient(180deg,#00ff9c,#00c853);
    color:#003b22;
    box-shadow:
        0 8px 20px rgba(0,255,136,.6),
        inset 0 -3px 0 rgba(0,0,0,.35);
}

.spin-btn:active{
    transform:translateY(2px);
    box-shadow:
        0 4px 12px rgba(0,255,136,.5),
        inset 0 -1px 0 rgba(0,0,0,.4);
}

.checklist{
    margin-top:18px;
    padding:14px;
    border-radius:16px;
    background:rgba(0,0,0,.55);
    box-shadow:inset 0 0 20px rgba(0,255,150,.12);
}

.checklist h3{
    margin:0 0 10px;
    font-size:15px;
    letter-spacing:1px;
    color:#7dffbf;
}

.trick-item{
    display:flex;
    align-items:center;
    gap:10px;
    font-size:14px;
    padding:6px 0;
    border-bottom:1px solid rgba(0,255,136,.15);
}

.trick-item:last-child{border:none}

.trick-item input{
    accent-color:#00ff9c;
    transform:scale(1.1);
}

.trick-done{
    text-decoration:line-through;
    opacity:.45;
}

.progress{
    margin-bottom:8px;
    font-size:14px;
    letter-spacing:1px;
    color:#9affd0;
    opacity:.9;
}

</style>
</head>

<body>

<div class="app">

  <div class="slot-box">
    <h2>ðŸŽ° SKATE SLOT ðŸ›¹</h2>
    <div class="sub">âš¡ TAP TO SPIN â€¢ NO REPEAT ðŸ”¥</div>

    <div class="slot" id="slot">
      <div class="reel" id="reel1">ðŸŽ² READY</div>
      <div class="reel" id="reel2">ðŸŽ² READY</div>
    </div>

    <button class="spin-btn" id="spinBtn">SPIN</button>
  </div>

  <!-- CHECKLIST -->
  <div class="checklist">
    <h3>ðŸ“‹ DAILY TRICKS</h3>
    <div class="progress" id="progressText">0 / 0</div>
    <div id="trickList"></div>
  </div>

</div>


<script>
/* DATA */
const tricks = [
  "Ollie",
  "Fakie ollie",
  "Front side 180",
  "Half cab",
  "Fakie front side 180",
  "Body varial revert fs",
  "Body varial revert bs",
  "Push and jump revert",
  "Step off body varial",
  "Step off revert fs",
  "Step off revert bs",
  "360 kickturn",
  "No comply finger flip",
  "Fakie no comply finger flip",
  "No comply 180",
  "Pop shuv",
  "Fakie pop shuv",
  "No com shuv",
  "No comply front shuv",
  "Power slide fs",
  "Power slide bs",
  "Cave shuv",
  "Cave",
  "Boneless",
  "Manual",
  "Fakie manual",
  "Ghost ride",
  "Fakie catch"
];


let history=[];
const MAX_HISTORY=100;
let spinning=false;

/* AUDIO */
let audioCtx=null;
function initAudio(){
    if(!audioCtx)
        audioCtx=new (window.AudioContext||window.webkitAudioContext)();
    if(audioCtx.state==="suspended") audioCtx.resume();
}

function clack(){
    if(!audioCtx) return;
    const o=audioCtx.createOscillator();
    const g=audioCtx.createGain();
    o.type="square";
    o.frequency.value=180;
    g.gain.setValueAtTime(.25,audioCtx.currentTime);
    g.gain.exponentialRampToValueAtTime(.01,audioCtx.currentTime+.06);
    o.connect(g); g.connect(audioCtx.destination);
    o.start(); o.stop(audioCtx.currentTime+.06);
}

/* SPIN */
function spin(){
    if(spinning) return;
    spinning=true;

    navigator.vibrate?.([20,30,20]);

    const r1=reel1,r2=reel2;
    const timer=setInterval(()=>{
        r1.textContent=tricks[Math.random()*tricks.length|0];
        r2.textContent=tricks[Math.random()*tricks.length|0];
        clack();
    },80);

    setTimeout(()=>{
        clearInterval(timer);
        let pair;
        do{
            let a=Math.random()*tricks.length|0;
            let b;
            do{b=Math.random()*tricks.length|0}while(a===b);
            pair=[tricks[a],tricks[b]].sort().join("||");
        }while(history.includes(pair));

        history.push(pair);
        if(history.length>MAX_HISTORY) history.shift();

        const [t,b]=pair.split("||");
        r1.textContent=t;
        r2.textContent=b;

        slot.classList.add("flash");
        setTimeout(()=>slot.classList.remove("flash"),350);

        spinning=false;
    },1200);
}

/* BUTTON */
spinBtn.addEventListener("click",()=>{
    initAudio(); // Safari unlock sound
    spin();
});

/* DAILY CHECKLIST */
const listEl = document.getElementById("trickList");
const progressEl = document.getElementById("progressText");

const TODAY_KEY = "skate_day";
const CHECK_KEY = "skate_done";

function today(){
    return new Date().toISOString().slice(0,10);
}

// reset má»—i ngÃ y
if(localStorage.getItem(TODAY_KEY) !== today()){
    localStorage.setItem(TODAY_KEY, today());
    localStorage.removeItem(CHECK_KEY);
}

let done = JSON.parse(localStorage.getItem(CHECK_KEY) || "[]");

function updateProgress(){
    progressEl.textContent = `${done.length} / ${tricks.length}`;
}

function renderList(){
    listEl.innerHTML="";
    tricks.forEach(trick=>{
        const label=document.createElement("label");
        label.className="trick-item";

        const cb=document.createElement("input");
        cb.type="checkbox";
        cb.checked=done.includes(trick);

        const span=document.createElement("span");
        span.textContent=trick;
        if(cb.checked) span.classList.add("trick-done");

        cb.onchange=()=>{
            if(cb.checked){
                if(!done.includes(trick)) done.push(trick);
                span.classList.add("trick-done");
            }else{
                done = done.filter(t=>t!==trick);
                span.classList.remove("trick-done");
            }
            localStorage.setItem(CHECK_KEY,JSON.stringify(done));
            updateProgress();
        };

        label.append(cb,span);
        listEl.appendChild(label);
    });

    updateProgress();
}

renderList();


</script>

</body>
</html>

